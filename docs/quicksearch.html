<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"docs_scripts_fulltext-search-ui.js.html":{"id":"docs_scripts_fulltext-search-ui.js.html","title":"Source: docs/scripts/fulltext-search-ui.js","body":" API Docs Modules Models:Delievry Source: docs/scripts/fulltext-search-ui.js window.SearcherDisplay = (function($) { /** * This class provides support for displaying quick search text results to users. */ function SearcherDisplay() { } SearcherDisplay.prototype.init = function() { this._displayQuickSearch(); }; /** * This method creates the quick text search entry in navigation menu and wires all required events. */ SearcherDisplay.prototype._displayQuickSearch = function() { var quickSearch = $(document.createElement(\"iframe\")), body = $(\"body\"), self = this; quickSearch.attr(\"src\", \"quicksearch.html\"); quickSearch.css(\"width\", \"0px\"); quickSearch.css(\"height\", \"0px\"); body.append(quickSearch); $(window).on(\"message\", function(msg) { var msgData = msg.originalEvent.data; if (msgData.msgid != \"docstrap.quicksearch.done\") { return; } var results = msgData.results || []; self._displaySearchResults(results); }); function startSearch() { var searchTerms = $('#search-input').prop(\"value\"); if (searchTerms) { quickSearch[0].contentWindow.postMessage({ \"searchTerms\": searchTerms, \"msgid\": \"docstrap.quicksearch.start\" }, \"*\"); } } $('#search-input').on('keyup', function(evt) { if (evt.keyCode != 13) { return; } startSearch(); return false; }); $('#search-submit').on('click', function() { startSearch(); return false; }); }; /** * This method displays the quick text search results in a modal dialog. */ SearcherDisplay.prototype._displaySearchResults = function(results) { var resultsHolder = $($(\"#searchResults\").find(\".modal-body\")), fragment = document.createDocumentFragment(), resultsList = document.createElement(\"ul\"); resultsHolder.empty(); for (var idx = 0; idx &lt; results.length; idx++) { var result = results[idx], item = document.createElement(\"li\"), link = document.createElement(\"a\"); link.href = result.id; link.innerHTML = result.title; item.appendChild(link) resultsList.appendChild(item); } fragment.appendChild(resultsList); resultsHolder.append(fragment); $(\"#searchResults\").modal({\"show\": true}); }; return new SearcherDisplay(); })($); × Search results Close Kepler | JS Documentation "},"models_delivery.model.js.html":{"id":"models_delivery.model.js.html","title":"Source: models/delivery.model.js","body":" API Docs Modules Models:Delievry Source: models/delivery.model.js /** @module Models:Delievry */ module.exports = { name:'delivery', schema:{ name:{ type:String } }, plugin:{ }, form:{ } } × Search results Close Kepler | JS Documentation "},"config.js.html":{"id":"config.js.html","title":"Source: config.js","body":" API Docs Modules Models:Delievry Source: config.js const path = require('path') const Pack = require('./package'); module.exports = { /** * Server configuration * port needs to be a number * host needs to be string either hostname or IP address */ server:{ host:\"localhost\", port:4500, }, /** * Mongo DB url taht will be \\ * used by the ODM (Mongoose) * */ mongodb:\"mongodb+srv://admin:admin@cluster0.evips.mongodb.net/EazyERP?retryWrites=true&amp;w=majority\", /** * Routes folder that will be used to load all route related files * Route file must be of the form file.route.js */ routes:path.join(__dirname,\"routes\"), /** * Models is the folder that will be used to loaded modules * this model file will be used to create models * Mongoose will is used as the ODM(Object Document Models) */ models:path.join(__dirname,\"models\"), status:{ title:\"Delivery APP Status\", url:\"/get_status\" }, explorer:{ name:\"Triophore API\" , desc:\"This API is a test\", api:\"/api/docs\" }, meta:{ name:\"Shopit API\", desc:\"Description of the API\", version:\"1.0.2\" } } × Search results Close Kepler | JS Documentation "},"kepler.js.html":{"id":"kepler.js.html","title":"Source: kepler.js","body":" API Docs Modules Models:Delievry Source: kepler.js 'use strict'; /** * * @ignore */ /** Requireing dotenv to load env files **/ require('dotenv').config() /** * require all important nodejs modules */ /**@ignore */ const Hapi = require('@hapi/hapi'); /**@ignore */ const mongoose = require('mongoose'); /**@ignore */ const Inert = require('@hapi/inert'); /**@ignore */ const Vision = require('@hapi/vision'); /**@ignore */ const Joi = require('@hapi/joi'); /**@ignore */ const Enjoi = require('enjoi'); /**@ignore */ const { Table } = require('console-table-printer'); console.log(process.env.RUNTIME) /** * Using chalk library for colured console out put * and aliasing console.log() =&gt; log() */ /**@ignore */ const chalk = require('chalk'); /**@ignore */ const log = console.log; /**@ignore */ var models = {}; var validator = {}; var schemas = {}; /**@ignore */ module.exports = async (config) =&gt;{ /** * Triophore Logo and contact details */ console.log(\"\"); console.log(\"\"); console.log(\"\"); log(`MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM MMMMMMMMMMMMMMMMMMNXNWMMMMMMMMMMMMMMMMMM MMMMMMMMMMMMMMMMMXl',dNMMMMMMMMMMMMMMMMM MMMMMMMMMMMMMMMMMX: .oNMMMMMMMMMMMMMMMM MMMMMMMMMMMMMMWK0WXc. cXMMMMMMMMMMMMMMM MMMMMMMMMMMMMWO'.dNX0l. :KMMMMMMMMMMMMMM MMMMMMMMMMMMWx. .lNMNd. ,OWMMMMMMMMMMMM MMMMMMMMMMMNd. ', cOXWx. 'kWMMMMMMMMMMM MMMMMMMMMMXl. :KXl. .;KWO' .xWMMMMMMMMMM MMMMMMMMMKc cXMMNd. ,OW0; .oNMMMMMMMMM MMMMMMMM0; .oNNxoXWx:. 'kWK: .lXMMMMMMMM MMMMMMWO, .dNXl. ;KWWO' .xNXl :KMMMMMMM MMMMMWk. .kWKc ,OWW0; .oNNo. ;0MMMMMM MMMMNd. 'OW0; 'ckWK: .lXNx. 'OWMMMM MMMNo. ;0WK:.........,OWXl :KWk. .xWMMM MMXc :KMMNK0000000000XWMNo. ;0WO, .dNMM MK: .;lllllllllllllllllxXNx. .cl, .lXM Nd,.....................,xNWk;.......,xW WNNNNNNNNNNNNNNNNNNNNNNNNNWMMWNNNNNNNNNW MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM `); console.log(\"\"); console.log(\"\"); console.log(\"------------------------------------------------------------------------------------------------------\"); console.log(\"\"); log(chalk.blue(\"Thank you for installing Kepler\")); console.log(\"\"); log(chalk.green(\"By Triophore Technologies [https://triophore.com]\")); console.log(\"\"); log(chalk.blue(\"Please visit :: https://triophore.com/products/kepler for more info\")); console.log(\"------------------------------------------------------------------------------------------------------\"); /** * check if http host and port are set */ if(!guardConfig(config.server)) { console.error(\"[ERROR] server config invalid or not found !\"); process.exit(1); } /** * Setting the server with host and port */ const server = Hapi.server({ port: config.server.port, host: config.server.host }); await server.register({ plugin: require('hapi-cors'), }); //await server.register({ plugin: require('blipp'), options: { showAuth: true } }); await server.register({ plugin: require('hapijs-status-monitor'), options: { title: 'Status Monitor', routeConfig: { auth: false } } }); /** * check the routes dir */ if(!guardConfig(config.routes)) { console.error(\"[ERROR] route Path invalid or not found !\"); process.exit(1); } /** * get all routes from the routes folder */ var routes = require('require-all')({ dirname : config.routes, filter : /(.+route)\\.js$/, excludeDirs : /^\\.(git|svn)$/, recursive : true }); /** * check if models foder exist */ if(guardConfig(config.models)) { /** * load all models from the models folder */ var models_loaded = require('require-all')({ dirname : config.models, filter : /(.+model)\\.js$/, excludeDirs : /^\\.(git|svn)$/, recursive : true }); //console.log(models_loaded) } /** * check if models folder exist and mongo db config values exist */ if(guardConfig(config.mongodb) &amp;&amp; guardConfig(config.models)) { /** * connect to mongo db bu URL */ await mongoose.connect(config.mongodb, {useNewUrlParser: true , useUnifiedTopology: true}); /** * get the mongodb connection and db instance */ const db = mongoose.connection; /** * get info, check if we are connected to mongoDB */ db.on('error', console.error.bind(console, 'connection error:')); db.once('open', function() { LogSuccess(\"DB Connected\") }); //const Joigoose = require(\"joigoose\")(mongoose); /** * call the pasre_model to parse the models into usable mongoose model */ var parsed_models = parse_model(models_loaded); /** * Temp models object */ /** * loop ing through all parsed models and creating mongoose models and registering */ const model_table = new Table({ columns: [ { name : 'Model', text: 'Model', color: 'green' } ] }); for(var m_in in parsed_models){ /** * get the name of the model */ var name = parsed_models[m_in].name LogInfo(\"Loading Model -&gt; \"+name); /** * get the schema of the model */ /**@ignore */ //var enjoi_schema = Enjoi.schema(parsed_models[m_in].schema); //validator[name] = enjoi_schema; var schema_temp = parsed_models[m_in].schema; if(guardConfig(schema_temp)){ var schema = new mongoose.Schema(schema_temp) //Joigoose.convert(enjoi_schema) if(guardConfig(parsed_models[m_in].plugins)){ if(guardConfig(parsed_models[m_in].plugins.length)){ if(guardConfig(parsed_models[m_in].plugins.length) &gt; 0){ //schema.plugin(require()) for(var plugin in parsed_models[m_in].plugins){ schema.plugin(require(parsed_models[m_in].plugins[plugin])); } } } } /** * register the model with mongoose and get the copy into temp `models` object */ /**@ignore */ models[name] = mongoose.model(name, schema); model_table.addRow({ Model:name }); } } console.log(\"------------------------------------------------------------------------------------------------------\"); log(chalk.red(\"Models Registered\")); console.log(\"------------------------------------------------------------------------------------------------------\"); model_table.printTable(); console.log(\"------------------------------------------------------------------------------------------------------\"); //console.log(models) for(var m_in in parsed_models){ /** * Generate exposed schema **/ /** * check if the model has crud functionalalities */ if(guardConfig(parsed_models[m_in].crud)){ var name = parsed_models[m_in].name LogInfo(\"Creating CRUD for Model -&gt; \"+ name); /** * set the default crud base URL */ var crud_url = 'crud'; /** * check if the crud url id defined * if defined , use this value as the base crud URL * or use the default CRUD url */ try{ if(config.crud != undefined) { if(guardConfig(config.crud.url)){ crud_url = config.crud.url; } } } catch(err){ LogError(err); } server.crud_url = crud_url; /** * GET ALL Models and GET Specific models data by id */ //+'{id?}' /* if(guardConfig(request.params.id)){ var result = await models[name].find({_id:request.params.id}); return result; }else{ .find({}) } return {};*/ //var result = await models[name]; /* */ var url_path = '/'+crud_url+'/'+name; server.route({ method: 'GET', path: url_path, handler: async (request, h,url_path) =&gt; { //console.log(request.path); var m_name = request.path.replace(\"/\" + server.crud_url + \"/\",\"\"); var result = await models[m_name].find({}); return result; } }); /* await server.route({ method: 'GET', path: '/'+crud_url+'/'+name+'/count/', handler: async function (request, h) { var result = await models[name].count(); return result; } }); await server.route({ method: 'POST', path: '/'+crud_url+'/'+name+'/', options: { validate: { payload: validator[name], failAction: async (request, h, err) =&gt; { if (process.env.NODE_ENV === 'production') { // In prod, log a limited error message and throw the default Bad Request error. console.error('ValidationError:', err.message); //throw Boom.badRequest(`Invalid request payload input`); } else { // During development, log and respond with the full error. console.error(err); //throw err; } throw err; //console.error('ValidationError:', err.message); } } }, handler: async function (request, h) { var res ={}; try{ var res= await new models[name](request.payload); //res.firstName = \"test NAme from joi\"; res.save(); }catch(err){ return err; } return res; } }); */ } } await server.register({ plugin: { name: 'Kepler-Model-Plugin', version: '1.0.0', register: async function (server, options) { // Create a route for example /* server.route({ method: 'GET', path: '/test', handler: function (request, h) { const name = options.name; return `Hello ${name}`; } }); */ //console.log(options) /** * Retrieves a models by name. * @async * @method * @param {String} modelname - Model Name * @returns {ModelObject} Model object * */ const getModel = async function (modelname) { return options.models[modelname]; }; /** * Retrieves all . * @async * @method * @returns {ModelObjects} Model objects * */ const getAllModels = async function (){ return options.models; } await server.decorate('toolkit', 'getModel', getModel); await server.decorate('toolkit', 'getAllModels', getAllModels); } }, options: { models } }); } /* var user = new models['user']({ first_name:\"test name\" }); user.save(); */ var parsed_route = parse_route(routes); //console.log(parsed_route); for(var r in parsed_route){ server.route(parsed_route[r]); //console.log(parsed_route[r]); } const server_route_table = new Table({columns: [ { name : 'Path', color: 'green' }, { name : 'Method', color: 'green' }, { name : 'Auth', color: 'green' } ]}); for(var route in server.table()){ var route_temp = server.table()[route]; server_route_table.addRow( { Path : route_temp.path , Method : route_temp.method , Auth : route_temp.settings.auth ? undefined : \"none\" } ); } console.log(\"------------------------------------------------------------------------------------------------------\"); log(chalk.red(\"Routes Registered\")); console.log(\"------------------------------------------------------------------------------------------------------\"); server_route_table.printTable(); console.log(\"------------------------------------------------------------------------------------------------------\"); if(guardConfig(config.explorer)){ server.route({ method: 'GET', path: config.explorer.api || \"/docs\", handler: async(request, h) =&gt; { const server_table = server.table(); var res = []; server_table.forEach(function (name){ res.push({ method:name.method, path:name.path }) }); var doc_name = config.meta.name || 'API docs'; var doc_desc = config.meta.desc || 'No description'; var doc_version = config.meta.version || '1.0.0'; return ` &lt;!DOCTYPE html&gt; &lt;html lang=\"en\"&gt; &lt;head&gt; &lt;title&gt;API DOCS&lt;/title&gt; &lt;meta charset=\"utf-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt; &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\"&gt; &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js\"&gt;&lt;/script&gt; &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js\"&gt;&lt;/script&gt; &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js\"&gt;&lt;/script&gt; &lt;link rel=\"stylesheet\" href=\"https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css\"&gt; &lt;link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.6.3/css/all.css\" integrity=\"sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/\" crossorigin=\"anonymous\"&gt; &lt;script src=\"https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.js\"&gt;&lt;/script&gt; &lt;!--script src=\"extensions/export/bootstrap-table-export.js\"&gt;&lt;/script--&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=\"jumbotron text-center\"&gt; &lt;h2&gt;` +doc_name + `&lt;/h2&gt; &lt;p&gt;` +doc_desc+ `&lt;/p&gt; &lt;strong&gt; Version:` +doc_version+ `&lt;/strong&gt; &lt;/div&gt; &lt;div class=\"container\"&gt; &lt;!-- Nav tabs --&gt; &lt;ul class=\"nav nav-tabs\" role=\"tablist\"&gt; &lt;li class=\"nav-item\"&gt; &lt;a class=\"nav-link active\" data-toggle=\"tab\" href=\"#home\"&gt;REST API&lt;/a&gt; &lt;/li&gt; &lt;li class=\"nav-item\"&gt; &lt;a class=\"nav-link\" data-toggle=\"tab\" href=\"#menu1\"&gt;SocketIO&lt;/a&gt; &lt;/li&gt; &lt;li class=\"nav-item\"&gt; &lt;a class=\"nav-link\" data-toggle=\"tab\" href=\"#menu2\"&gt;Others&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;!-- Tab panes --&gt; &lt;div class=\"tab-content\"&gt; &lt;div id=\"home\" class=\"container tab-pane active\"&gt;&lt;br&gt; &lt;h2&gt;API List&lt;/h2&gt; &lt;p&gt;The .table class adds basic styling (light padding and horizontal dividers) to a table:&lt;/p&gt; &lt;table id=\"table\" class=\"table\" style=\"width:100%;\" data-show-columns=\"true\" data-show-export=\"true\"&gt;&lt;/table&gt; &lt;/div&gt; &lt;div id=\"menu1\" class=\"container tab-pane fade\"&gt;&lt;br&gt; &lt;h3&gt;Menu 1&lt;/h3&gt; &lt;p&gt;Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&lt;/p&gt; &lt;/div&gt; &lt;div id=\"menu2\" class=\"container tab-pane fade\"&gt;&lt;br&gt; &lt;h3&gt;Menu 2&lt;/h3&gt; &lt;p&gt;Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;script&gt; var api_table = `+JSON.stringify(res)+` ; console.log(api_table); $(document).ready(function(){ api_table.forEach(function(val,i){ // $('#api_table').append('&lt;tr&gt;&lt;td&gt;'+val.path+'&lt;/td&gt;&lt;td&gt;'+val.method+'&lt;/td&gt;&lt;/tr&gt;'); }); $('#table').bootstrapTable({ pagination: true, search: true, exportDataType: $(this).val(), exportTypes: ['json', 'xml', 'csv', 'txt', 'sql', 'excel', 'pdf'], columns: [{ field: 'path', title: 'Path' }, { field: 'method', title: 'Method' },], data: api_table }) }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; ` /* { // data:JSON.stringify(server.table()) routes:res }*/ // } }) } await server.start(); //console.log('Server running on %s', server.info.uri); LogSuccess('Server running on ' + server.info.uri); } /** * Utility function for general purpose use ----------------------------------- */ /** * This function is used to check if the config values are not null not empty or undefined */ /**@ignore */ function guardConfig(val){ if(val == \"\" || val == undefined || val == null){ return false; }else{ return true; } } /** * Log Error */ /**@ignore */ function LogError(data){ log(chalk.red.bold('[ERROR]:-'+data)); } /** * Log Success */ /**@ignore */ function LogSuccess(data){ log(chalk.green.bold('[ALERT]:-'+data)); } /** * Log Info */ /**@ignore */ function LogInfo(data){ log(chalk.yellow.bold('[INFO]:-'+data)); } /** * Utility functions end ------------------------------------------------------ */ /** * Parse models get travese through json */ /**@ignore */ function parse_model(models){ var models_parsed = []; for(var key in models){ if(models[key].hasOwnProperty(\"name\") &amp;&amp; models[key].hasOwnProperty(\"schema\") ) { models_parsed.push(models[key]) }else{ var d = get_sub_model(models[key]); for(var r in d){ models_parsed.push(d[r]); } } } return models_parsed; } /** * get all relevent models and removing sub directory values */ /**@ignore */ function get_sub_model(routes){ var sub_r = []; for(var key in routes){ if(routes[key].hasOwnProperty(\"name\") &amp;&amp; routes[key].hasOwnProperty(\"schema\")) { sub_r.push(routes[key]) }else{ get_sub_model(routes[key]) } } return sub_r } /** * Parse routes get travese through json */ /**@ignore */ function parse_route(routes){ var route_parsed = []; for(var key in routes){ if(routes[key].hasOwnProperty(\"method\") &amp;&amp; routes[key].hasOwnProperty(\"path\") &amp;&amp; routes[key].hasOwnProperty(\"handler\")) { route_parsed.push(routes[key]) }else{ var d = get_sub_routes(routes[key]); for(var r in d){ route_parsed.push(d[r]); } } } //console.log(route_parsed) return route_parsed; } /** * get all relevent models and removing sub directory values */ /**@ignore */ function get_sub_routes(routes){ var sub_r = []; for(var key in routes){ if(routes[key].hasOwnProperty(\"method\") &amp;&amp; routes[key].hasOwnProperty(\"path\") &amp;&amp; routes[key].hasOwnProperty(\"handler\")) { sub_r.push(routes[key]) }else{ get_sub_routes(routes[key]) } } return sub_r } process.on('unhandledRejection', (err) =&gt; { LogError(err); process.exit(1); }); × Search results Close Kepler | JS Documentation "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" API Docs Modules Models:Delievry Modules × Search results Close Kepler | JS Documentation "},"index.html":{"id":"index.html","title":"Index","body":" API Docs Modules Models:Delievry This is your document index page × Search results Close Kepler | JS Documentation "},"Models_Delievry.html":{"id":"Models_Delievry.html","title":"Module: Models:Delievry","body":" API Docs Modules Models:Delievry Module: Models:Delievry Source: models/delivery.model.js, line 1 Module: Models:Delievry Source: models/delivery.model.js, line 1 × Search results Close Kepler | JS Documentation "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
