(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{773:function(e,t,n){var content=n(780);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(6).default)("248b988c",content,!0,{sourceMap:!1})},779:function(e,t,n){"use strict";n(773)},780:function(e,t,n){(t=n(5)(!1)).push([e.i,".v-data-table>.v-data-table__wrapper tbody tr.v-data-table__expanded__content{box-shadow:inset 0 0 0 0 rgba(50,50,50,.75),inset 0 0 0 0 rgba(50,50,50,.75)!important}",""]),e.exports=t},810:function(e,t,n){"use strict";n.r(t);n(91);var r=n(17),o={data:function(){return{search:"",dialog:!1,dialogDelete:!1,headers:[{text:"",value:"data-table-expand"},{text:"",align:"start",sortable:!1,value:"profile_icon"},{text:" Username",align:"start",sortable:!1,value:"username"},{text:"Email",align:"start",sortable:!1,value:"email"},{text:"Phone",align:"start",sortable:!1,value:"phone_number"},{text:"Action",align:"start",sortable:!1,value:"_id"}],TableData:[],totalCount:0,loading:!0,options:{},teams:[],team_selected:"",vehicle_types:[],vehicle_selected:""}},computed:{},methods:{pagination:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e);case 1:case"end":return t.stop()}}),t)})))()},update_data:function(e){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},update_options:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={items_perpage:e.itemsPerPage,page:e.page},""!=t.team_selected&&(r.team=t.team_selected),""!=t.vehicle_selected&&(r.vehicle=t.vehicle_selected),n.prev=3,t.loading=!0,n.next=7,t.$axios.get("/api/agent/datatable",{params:r});case 7:o=n.sent,t.TableData=o.data.docs,t.totalCount=o.data.totalDocs,t.loading=!1,n.next=17;break;case 13:n.prev=13,n.t0=n.catch(3),console.log("E::A"),t.loading=!1;case 17:case"end":return n.stop()}}),n,null,[[3,13]])})))()}},watch:{team_selected:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t!=e){r.next=2;break}return r.abrupt("return");case 2:return o={items_perpage:n.options.itemsPerPage,page:n.options.page,team:e},""!=n.vehicle_selected&&(o.vehicle=n.vehicle_selected),r.prev=4,n.loading=!0,r.next=8,n.$axios.get("/api/agent/datatable",{params:o});case 8:c=r.sent,n.TableData=c.data.docs,n.totalCount=c.data.totalDocs,n.loading=!1,r.next=18;break;case 14:r.prev=14,r.t0=r.catch(4),console.log("E::A"),n.loading=!1;case 18:case"end":return r.stop()}}),r,null,[[4,14]])})))()},vehicle_selected:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t!=e){r.next=2;break}return r.abrupt("return");case 2:return o={items_perpage:n.options.itemsPerPage,page:n.options.page,vehicle:e},""!=n.team_selected&&(o.team=n.team_selected),r.prev=4,n.loading=!0,r.next=8,n.$axios.get("/api/agent/datatable",{params:o});case 8:c=r.sent,n.TableData=c.data.docs,n.totalCount=c.data.totalDocs,n.loading=!1,r.next=18;break;case 14:r.prev=14,r.t0=r.catch(4),console.log("E::A"),n.loading=!1;case 18:case"end":return r.stop()}}),r,null,[[4,14]])})))()},search:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={items_perpage:t.options.itemsPerPage,page:t.options.page,search:e},""!=t.team_selected&&(r.team=t.team_selected),""!=t.vehicle_selected&&(r.vehicle=t.vehicle_selected),n.prev=3,t.loading=!0,n.next=7,t.$axios.get("/api/agent/datatable",{params:r});case 7:o=n.sent,t.TableData=o.data.docs,t.totalCount=o.data.totalDocs,t.loading=!1,n.next=17;break;case 13:n.prev=13,n.t0=n.catch(3),console.log("E::A"),t.loading=!1;case 17:case"end":return n.stop()}}),n,null,[[3,13]])})))()},options:{handler:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),r={items_perpage:e.itemsPerPage,page:e.page},n.prev=2,t.loading=!0,n.next=6,t.$axios.get("/api/agent/datatable",{params:r});case 6:o=n.sent,t.TableData=o.data.docs,t.totalCount=o.data.totalDocs,t.loading=!1,n.next=16;break;case 12:n.prev=12,n.t0=n.catch(2),console.log("E::A"),t.loading=!1;case 16:case"end":return n.stop()}}),n,null,[[2,12]])})))()},deep:!0}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$axios.get("/api/team/all");case 4:return n=t.sent,e.teams=n.data,t.next=8,e.$axios.get("/api/vehicle/all");case 8:return r=t.sent,e.vehicle_types=r.data,t.next=12,e.$axios.get("/api/agent/datatable");case 12:o=t.sent,e.TableData=o.data.docs,e.totalCount=o.data.totalDocs,console.log(o.data),e.loading=!1,t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),console.log("E::A");case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))()}},c=(n(779),n(13)),l=n(40),v=n.n(l),d=n(281),_=n(172),m=n(271),h=n(26),x=n(736),f=n(743),w=n(808),k=n(275),y=n(138),D=n(214),C=n(740),T=n(722),V=n(741),R=n(73),A=n(63),P=n(147),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",[n("v-row",[n("v-col",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.TableData,options:e.options,"server-items-length":e.totalCount,loading:e.loading,search:e.search,pagination:e.pagination,"show-expand":"","item-key":"username","single-expand":!0,"disable-sort":"",dense:""},on:{"update:options":function(t){e.options=t},"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-toolbar-title",[e._v("Agents")]),e._v(" "),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),n("v-btn",{staticClass:"white--text",attrs:{color:"red",to:"./agents/add"}},[e._v("ADD")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-select",{attrs:{items:e.teams,label:"Select Teams","item-text":"team_name",dense:""},model:{value:e.team_selected,callback:function(t){e.team_selected=t},expression:"team_selected"}}),e._v(" "),""!=e.team_selected?n("v-btn",{attrs:{icon:""},on:{click:function(t){e.team_selected=""}}},[n("v-icon",[e._v("mdi-close-circle")])],1):e._e(),e._v(" "),n("v-spacer"),e._v(" "),n("v-select",{attrs:{items:e.vehicle_types,"item-text":"vehicle_type",label:"Select Vehicle Type",dense:""},model:{value:e.vehicle_selected,callback:function(t){e.vehicle_selected=t},expression:"vehicle_selected"}}),e._v(" "),""!=e.vehicle_selected?n("v-btn",{attrs:{icon:""},on:{click:function(t){e.vehicle_selected=""}}},[n("v-icon",[e._v("mdi-close-circle")])],1):e._e(),e._v(" "),n("v-spacer"),e._v(" "),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.profile_icon",fn:function(t){var r=t.item;return[n("v-avatar",{attrs:{color:"indigo",size:"48"}},[r.profile_icon?n("v-img",{attrs:{src:r.profile_icon}}):n("span",{staticClass:"white--text headline"},[e._v(e._s(r.username[0].toUpperCase()+r.username[r.username.length-1].toUpperCase()))])],1)]}},{key:"item._id",fn:function(t){var r=t.item;return[n("v-btn",{staticClass:"mr-2",attrs:{small:"",icon:"",color:"info",to:"./agents/edit/"+r._id}},[n("v-icon",[e._v("mdi-pencil")])],1),e._v(" "),n("v-btn",{staticClass:"mr-2",attrs:{small:"",icon:"",color:"error",to:"./agents/edit/"+r._id}},[n("v-icon",[e._v("mdi-delete")])],1)]}},{key:"expanded-item",fn:function(t){var r=t.headers,o=t.item;return[n("td",{attrs:{colspan:r.length}},[n("v-card",[n("v-card-title",[e._v(e._s(o.username))]),e._v(" "),n("v-container",[n("v-row",[o.team?n("v-col",[n("v-card-text",[e._v("Vehicle Type : "+e._s(o.team))])],1):e._e(),e._v(" "),o.vehicle_type?n("v-col",[n("v-card-text",[e._v("Vehicle Type : "+e._s(o.vehicle_type))])],1):e._e(),e._v(" "),o.vehicle_number?n("v-col",[n("v-card-text",[e._v("Vehicle Number : "+e._s(o.vehicle_number))])],1):e._e(),e._v(" "),o.license_number?n("v-col",[n("v-card-text",[e._v("License Number : "+e._s(o.license_number))])],1):e._e(),e._v(" "),o.aadhar_number?n("v-col",[n("v-card-text",[e._v("Aadhar Number : "+e._s(o.aadhar_number))])],1):e._e(),e._v(" "),o.device_type?n("v-col",[n("v-card-text",[e._v("Device Type : "+e._s(o.device_type))])],1):e._e(),e._v(" "),o.device_battery_level?n("v-col",[n("v-card-text",[e._v("Device Battery Level : "+e._s(o.device_battery_level))])],1):e._e(),e._v(" "),o.created_at?n("v-col",[n("v-card-text",[e._v("Created Date : "+e._s(new Date(o.created_at).toLocaleDateString("en-US")))])],1):e._e(),e._v(" "),n("v-col",[o.teams?n("div",[o.teams.length>0?n("v-card-text",[e._v("Teams : "+e._s(o.teams))]):n("v-card-text",[e._v("Teams : 0")])],1):e._e()])],1)],1)],1)],1)]}},{key:"no-data",fn:function(){return[n("v-btn",{attrs:{color:"primary"},on:{click:e.update_options}},[e._v("\n                    Reset\n                  ")])]},proxy:!0}])})],1)],1),e._v(" "),n("v-row")],1)],1)}),[],!1,null,null,null);t.default=component.exports;v()(component,{VAvatar:d.a,VBtn:_.a,VCard:m.a,VCardText:h.b,VCardTitle:h.c,VCol:x.a,VContainer:f.a,VDataTable:w.a,VDivider:k.a,VIcon:y.a,VImg:D.a,VRow:C.a,VSelect:T.a,VSpacer:V.a,VTextField:R.a,VToolbar:A.a,VToolbarTitle:P.b})}}]);