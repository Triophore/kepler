(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{775:function(e,t,n){var content=n(792);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(6).default)("61d9040c",content,!0,{sourceMap:!1})},791:function(e,t,n){"use strict";n(775)},792:function(e,t,n){(t=n(5)(!1)).push([e.i,".v-data-table>.v-data-table__wrapper tbody tr.v-data-table__expanded__content{box-shadow:inset 0 0 0 0 rgba(50,50,50,.75),inset 0 0 0 0 rgba(50,50,50,.75)!important}",""]),e.exports=t},822:function(e,t,n){"use strict";n.r(t);n(76),n(99),n(91);var r=n(17),o={data:function(){return{search:"",delete_dialog:!1,delete_dialog_data:{},delete_confirm_loader:!1,dialog:!1,dialogDelete:!1,headers:[{text:"",value:"data-table-expand"},{text:"",align:"start",sortable:!1,value:"profile_icon"},{text:" Username",align:"start",sortable:!1,value:"username"},{text:"Email",align:"start",sortable:!1,value:"email"},{text:"Phone",align:"start",sortable:!1,value:"phone_number"},{text:"Action",align:"start",sortable:!1,value:"_id"}],TableData:[],totalCount:0,loading:!0,options:{}}},computed:{},methods:{show_delete_dialog:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.delete_dialog_data=e,t.delete_dialog=!0,console.log(e);case 3:case"end":return n.stop()}}),n)})))()},confirm_delete:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.delete_confirm_loader=!0,e.delete_dialog_data){t.next=6;break}return e.delete_dialog_data={},e.delete_dialog=!1,e.delete_confirm_loader=!1,t.abrupt("return");case 6:return n=e.delete_dialog_data._id,t.prev=7,t.next=10,e.$axios.post("/api/manager/delete",{id:n});case 10:t.sent,t.next=19;break;case 13:return t.prev=13,t.t0=t.catch(7),e.delete_dialog_data={},e.delete_dialog=!1,e.delete_confirm_loader=!1,t.abrupt("return");case 19:r=e.TableData.indexOf(e.delete_dialog_data),e.TableData.splice(r,1),e.delete_dialog=!1;case 22:case"end":return t.stop()}}),t,null,[[7,13]])})))()},pagination:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e);case 1:case"end":return t.stop()}}),t)})))()},update_data:function(e){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},update_options:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={items_perpage:e.itemsPerPage,page:e.page},n.prev=1,t.loading=!0,n.next=5,t.$axios.get("/api/manager/datatable",{params:r});case 5:o=n.sent,t.TableData=o.data.docs,t.totalCount=o.data.totalDocs,t.loading=!1,n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),console.log("E::A"),t.loading=!1;case 15:case"end":return n.stop()}}),n,null,[[1,11]])})))()}},watch:{search:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={items_perpage:t.options.itemsPerPage,page:t.options.page,search:e},n.prev=1,t.loading=!0,n.next=5,t.$axios.get("/api/manager/datatable",{params:r});case 5:o=n.sent,t.TableData=o.data.docs,t.totalCount=o.data.totalDocs,t.loading=!1,n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),console.log("E::A"),t.loading=!1;case 15:case"end":return n.stop()}}),n,null,[[1,11]])})))()},options:{handler:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),r={items_perpage:e.itemsPerPage,page:e.page},n.prev=2,t.loading=!0,n.next=6,t.$axios.get("/api/manager/datatable",{params:r});case 6:o=n.sent,t.TableData=o.data.docs,t.totalCount=o.data.totalDocs,t.loading=!1,n.next=16;break;case 12:n.prev=12,n.t0=n.catch(2),console.log("E::A"),t.loading=!1;case 16:case"end":return n.stop()}}),n,null,[[2,12]])})))()},deep:!0}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$axios.get("/api/manager/datatable");case 4:n=t.sent,e.TableData=n.data.docs,e.totalCount=n.data.totalDocs,console.log(n.data),e.loading=!1,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("E::A");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}},l=(n(791),n(13)),c=n(40),d=n.n(c),v=n(281),_=n(172),m=n(271),f=n(26),x=n(736),h=n(743),w=n(808),k=n(724),C=n(275),D=n(138),R=n(214),V=n(272),T=n(740),y=n(741),A=n(73),O=n(63),P=n(147),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",[n("v-row",[n("v-col",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.TableData,options:e.options,"server-items-length":e.totalCount,loading:e.loading,search:e.search,pagination:e.pagination,"show-expand":"","item-key":"username",dense:"","disable-sort":""},on:{"update:options":function(t){e.options=t},"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-toolbar-title",[e._v("Managers and Users")]),e._v(" "),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),n("v-btn",{staticClass:"white--text",attrs:{color:"red",to:"./manager/add"}},[e._v("ADD")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.profile_icon",fn:function(t){var r=t.item;return[n("v-avatar",{attrs:{color:"indigo",size:"86"}},[r.profile_icon?n("v-img",{attrs:{src:r.profile_icon}}):n("span",{staticClass:"white--text headline"},[e._v(e._s(r.username[0].toUpperCase()+r.username[r.username.length-1].toUpperCase()))])],1)]}},{key:"item._id",fn:function(t){var r=t.item;return[n("v-btn",{staticClass:"mr-2",attrs:{small:"",icon:"",color:"info",to:"./manager/edit/"+r._id}},[n("v-icon",[e._v("mdi-pencil")])],1),e._v(" "),n("v-btn",{staticClass:"mr-2",attrs:{small:"",icon:"",color:"error"},on:{click:function(t){return e.show_delete_dialog(r)}}},[n("v-icon",[e._v("mdi-delete")])],1)]}},{key:"no-data",fn:function(){return[n("v-btn",{attrs:{color:"primary"},on:{click:e.update_options}},[e._v("\n                    Refresh Data\n                  ")])]},proxy:!0},{key:"expanded-item",fn:function(t){var r=t.headers,o=t.item;return[n("td",{attrs:{colspan:r.length}},[n("v-card",[n("v-card-title",[e._v(e._s(o.username))]),e._v(" "),n("v-container",[n("v-row",[n("v-col",[n("v-card-text",[e._v("Email : "+e._s(o.email))])],1),e._v(" "),n("v-col",[n("v-card-text",[e._v("First Name : "+e._s(o.first_name))])],1),e._v(" "),n("v-col",[n("v-card-text",[e._v("Middle Name : "+e._s(o.middle_name))])],1),e._v(" "),n("v-col",[n("v-card-text",[e._v("Last Name : "+e._s(o.last_name))])],1),e._v(" "),n("v-col",[n("v-card-text",[e._v("Created Date : "+e._s(new Date(o.created_at).toLocaleDateString("en-US")))])],1),e._v(" "),n("v-col",["A"==o.role?n("v-card-text",[e._v("Role : Admin")]):n("v-card-text",[e._v("Role : Manager")])],1),e._v(" "),n("v-col",[o.teams.length>0?n("v-card-text",[e._v("Teams : "+e._s(o.teams))]):n("v-card-text",[e._v("Teams : 0")])],1),e._v(" "),n("v-col",[n("v-card-text",[e._v("Phone : "+e._s(o.phone))])],1)],1)],1)],1)],1)]}}])})],1)],1),e._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"800"},model:{value:e.delete_dialog,callback:function(t){e.delete_dialog=t},expression:"delete_dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("\n                  Delete this manager with following data?\n                ")]),e._v(" "),n("v-card-text",[n("strong",[e._v("Username : "+e._s(e.delete_dialog_data.username))])]),e._v(" "),n("v-card-text",[n("strong",[e._v("Email:     "+e._s(e.delete_dialog_data.email))])]),e._v(" "),e.delete_confirm_loader?n("v-card-text",[e._v("\n                Please stand by\n                "),n("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:""}})],1):e._e(),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.delete_dialog_data={},e.delete_dialog=!1}}},[e._v("\n                    No\n                  ")]),e._v(" "),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.confirm_delete}},[e._v("\n                    yes\n                  ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VAvatar:v.a,VBtn:_.a,VCard:m.a,VCardActions:f.a,VCardText:f.b,VCardTitle:f.c,VCol:x.a,VContainer:h.a,VDataTable:w.a,VDialog:k.a,VDivider:C.a,VIcon:D.a,VImg:R.a,VProgressLinear:V.a,VRow:T.a,VSpacer:y.a,VTextField:A.a,VToolbar:O.a,VToolbarTitle:P.b})}}]);