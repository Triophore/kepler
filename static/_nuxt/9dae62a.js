(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{767:function(t,e,n){t.exports=n.p+"img/pick_up.c58be2b.png"},768:function(t,e,n){t.exports=n.p+"img/delivery.4fba187.png"},776:function(t,e,n){var content=n(796);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("1ba1062c",content,!0,{sourceMap:!1})},793:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAwFBMVEUAAAAxcQkycAgwcQowcQkxcgkycgkycQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkwcQcycQoxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkycwoxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkxcQkycgkxcQkxcQkxcQkxcgkxcQkxcQgxcQn///9KGaCLAAAAPnRSTlMAAAAAAAAAAA5Ol8bZ1bd9MQIBRbbz/uOOIAZ07cw7AfjYNLsS/WjywRE9+2Z6dljhKqQF70KIA6ETaQN1BXrzzWgAAAABYktHRD8+YzB1AAAAB3RJTUUH5QEHFCwcHPUN1QAAAL1JREFUGNNl0ccSgmAMhdF7VcQuKGJDRbCBvfe8/2MJLhz5+ZZnJoskAEgWiqVypVqrGyYzWSC2RtNqSZzd7nSZI6Cx13fk12DIPKGN+q78NfZIsOlIIn9CFKykyXRGFOcKyiJASTVxQpRTuFyhkkJZo5oye4NaCt0t6raKuz2MtoqHI8yOYqdztGZ3kMTLlchwOP63WxAdJJuj509/s5fYoiPrvD8WzlJsd3c4P78G6NE/gnC1fm33b2qxfQAnEkcUhz3/bAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wMS0wN1QyMDo0NDowNiswMDowMAojWHAAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDEtMDdUMjA6NDQ6MDYrMDA6MDB7fuDMAAAAAElFTkSuQmCC"},794:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAQAAADs3AYjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQflAQcULh+3yj7tAAABMUlEQVQoz43RsUtVcRjH4ef9HeGKQ4MOdomQoDDsNIQQCUGrII1xhvoXgmiLaG+MFrGIQJcutEQRBBIilENBQikN0XRtCy3IUOn+HMQl9Z77mR/e4fsGVEIW/XnClHHDOtqWvIrl/C9kLQQVshh326RB+2U/PPfQd8IzUSFHVO4bcbBPblkMoSgR10xrOqymyz5oZ0VJ6bETjmrIGa/9SfrcdFq3rrhBcsFVdV3XTCYdr4VnXUomRC0ccDE5WctgJGn0BBvJRk9wI/naA+tYTd7aroU/vU/mrdbCd5aTtic6XdlvM/4mzHnRFT4yT1Gy5aPzTh3BZt21SXFOsG7BoFF9/4/igXvWaSlWlPDLG5/1O6YhybaseelOPLVJtrL352r/woBRY4Z1rPmSv8UOtMAuQnpQKT0186cAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDEtMDdUMjA6NDY6MjMrMDA6MDAey6CXAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTAxLTA3VDIwOjQ2OjIzKzAwOjAwb5YYKwAAAABJRU5ErkJggg=="},795:function(t,e,n){"use strict";n(776)},796:function(t,e,n){(e=n(5)(!1)).push([t.i,".slide-fade-enter-active[data-v-1e801c89]{transition:all .3s ease}.slide-fade-leave-active[data-v-1e801c89]{transition:all .8s cubic-bezier(1,.5,.8,1)}.slide-fade-enter[data-v-1e801c89],.slide-fade-leave-to[data-v-1e801c89]{transform:translateX(10px);opacity:0}.gmnoprint[data-v-1e801c89]{width:100px!important;height:100px!important}.v-list[data-v-1e801c89]{height:80vh;overflow-y:auto}",""]),t.exports=e},797:function(t,e,n){var content=n(798);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("1d31a8d0",content,!0,{sourceMap:!1})},798:function(t,e,n){(e=n(5)(!1)).push([t.i,".bottom-sheet-transition-enter,.bottom-sheet-transition-leave-to{transform:translateY(100%)}.v-bottom-sheet.v-dialog{align-self:flex-end;border-radius:0;flex:0 1 auto;margin:0;overflow:visible}.v-bottom-sheet.v-dialog.v-bottom-sheet--inset{max-width:70%}@media only screen and (max-width:599px){.v-bottom-sheet.v-dialog.v-bottom-sheet--inset{max-width:none}}",""]),t.exports=e},799:function(t,e,n){var content=n(800);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("12a190a6",content,!0,{sourceMap:!1})},800:function(t,e,n){(e=n(5)(!1)).push([t.i,".v-input--checkbox.v-input--indeterminate.v-input--is-disabled{opacity:.6}",""]),t.exports=e},809:function(t,e,n){"use strict";n.r(e);n(41),n(75),n(46),n(76),n(28),n(99),n(59),n(36);var r=n(15),o=(n(91),n(17)),l=n(1),c=n(31);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={methods:d(d({},Object(c.c)({setFocusLatLng:"setFocusLatLng",setTeamTask:"setTeamTask",clearPickUp:"clearPickUp",clearDelivery:"clearDelivery",set_master_date:"set_master_date",setMasterTeam:"setMasterTeam",set_left_open:"set_left_open"})),{},{remove_selected_assign:function(t){console.log(t);var e=this.assign_teams_check.indexOf(t);-1!==e&&this.assign_teams_check.splice(e,1)},assign_task_manually:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.assign_teams_check.length){e.next=3;break}return alert("please select atleast one agent"),e.abrupt("return");case 3:for(r in n=[],t.assign_teams_check)n.push(t.assign_teams_check[r]._id);return(o={}).agents=n,o.task=t.task_selected_details._id,e.next=10,t.$axios.post("/api/task/assign/task/agents",o);case 10:l=e.sent,console.log(l.data),l.data.status&&"AS"==l.data.data.task_status&&(t.assigned_task_list.push(l.data.data),l.data.data,t.un_assigned_task=t.un_assigned_task.filter((function(t){return t._id!==l.data.data._id})),t.task_detail=!1,t.task_selected_details=null);case 13:case"end":return e.stop()}}),e)})))()},open_task_assign_sheet:function(i){this.task_to_assign=this.un_assigned_task[i],this.task_assign_sheet=!0},close_task_assign_sheet:function(){this.task_to_assign=null,this.task_assign_sheet=!1},toggle_left:function(){0==this.left_side?(this.left_side=4,this.set_left_open(!0)):(this.left_side=0,this.set_left_open(!1))},toggle_right:function(){0==this.right_side?this.right_side=2:this.right_side=0},savePolygon:function(t){this.polygons.push(t)},unassigned_task_show_marker:function(i){var t=this.un_assigned_task[i];null!=t&&(this.selected_route_markers=t,this.panToBounds())},panToBounds:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var b,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.selected_route_markers){e.next=2;break}return e.abrupt("return");case 2:for(i in b=new google.maps.LatLngBounds,t.selected_route_markers.task_info_start)b.extend({lat:t.selected_route_markers.task_info_start[i].lat,lng:t.selected_route_markers.task_info_start[i].lng});for(i in t.selected_route_markers.task_info_stop)b.extend({lat:t.selected_route_markers.task_info_stop[i].lat,lng:t.selected_route_markers.task_info_stop[i].lng});t.$refs.map.$mapPromise.then((function(map){map.fitBounds(b)}));case 6:case"end":return e.stop()}}),e)})))()},show_task_details:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.task_selected_details=t,e.task_selected_details_sub=null,n.next=4,e.load_full_task_details(t._id);case 4:e.task_detail=!0;case 5:case"end":return n.stop()}}),n)})))()},get_latest_geolocation:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.master_team_store,e.next=4,t.$axios.get("/api/agent/geolocation/team/"+n._id);case 4:r=e.sent,console.log(r.data.data),t.agent_teams.forEach((function(t,e){var n=r.data.data.find((function(e){return e.agent_locations.agent_id===t._id}));console.log(r.data.data.indexOf(n)),1==t.online?r.data.data[r.data.data.indexOf(n)].agent_locations.online=!0:r.data.data[r.data.data.indexOf(n)].agent_locations.online=!1,console.log(r.data.data)})),t.agent_locations=r.data.data,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("GEO:ERR");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},load_unassigned_task_team_date:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.$axios.post("/api/task/get_unassigned/"+t+"/date/"+e);case 2:o=r.sent,console.log(o.data),o.data.status&&(n.un_assigned_task=o.data.data);case 5:case"end":return r.stop()}}),r)})))()},load_assigned_task_team_date:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.$axios.post("/api/task/get_assigned/"+t+"/date/"+e);case 2:o=r.sent,console.log(o.data),o.data.status&&(n.assigned_task_list=o.data.data);case 5:case"end":return r.stop()}}),r)})))()},load_full_task_details:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$axios.post("/api/task/id/"+t);case 2:(r=n.sent).data.status&&(e.task_full_details=r.data.data[0],console.log("task-details"),console.log(e.task_full_details));case 4:case"end":return n.stop()}}),n)})))()},change_online_status:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.agent_teams.find((function(e){return e._id===t.user})),o=e.agent_teams.indexOf(r),r.online=t.data,e.agent_teams[o]=r,l=e.agent_locations.find((function(e){return e.agent_locations.agent_id==t.user})),e.agent_locations.indexOf(l),e.agent_locations[o]=l;case 7:case"end":return n.stop()}}),n)})))()}}),created:function(){var t=this;this.toggle_left(),this.toggle_right(),this.task_detail=!1,this.timer=setInterval((function(){t.get_latest_geolocation()}),5e3)},sockets:{connect:function(){console.log("socket connected")},online:function(data){this.change_online_status(data)}},beforeDestroy:function(){clearInterval(this.timer)},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$gmapApiPromiseLazy();case 2:return console.log("map ready "+t.$refs.map),e.prev=3,e.next=6,t.$axios.get("/api/team/all");case 6:return n=e.sent,t.all_team=n.data,e.next=10,t.$axios.get("/api/agent/team/"+t.all_team[0]._id);case 10:return(r=e.sent).data.status&&(t.agent_teams=r.data.data),o=t.master_team_store,e.next=15,t.$axios.get("/api/agent/geolocation/team/"+o._id);case 15:return l=e.sent,e.next=18,t.load_unassigned_task_team_date(o._id,t.master_date_store);case 18:return e.next=20,t.load_assigned_task_team_date(o._id,t.master_date_store);case 20:t.agent_teams.forEach((function(t,e){var n=l.data.data.find((function(e){return e.agent_locations.agent_id===t._id}));console.log(l.data.data.indexOf(n)),1==t.online?l.data.data[l.data.data.indexOf(n)].agent_locations.online=!0:l.data.data[l.data.data.indexOf(n)].agent_locations.online=!1,console.log(l.data.data)})),t.agent_locations=l.data.data,e.next=26;break;case 24:e.prev=24,e.t0=e.catch(3);case 26:case"end":return e.stop()}}),e,null,[[3,24]])})))()},watch:{assign_teams_check:function(t,e){console.log(t)},task_selected_details:function(t,e){null!=Object(r.a)(t)&&null!=t&&null!=Object(r.a)(t._id)&&t._id},task_detail_panel_pickup_model:function(t,e){if(-1!=this.task_detail_panel_delivery_model&&-1!=this.task_detail_panel_pickup_model&&(this.task_detail_panel_delivery_model=-1,this.task_detail_marker=[]),-1==this.task_detail_panel_pickup_model);else try{this.task_detail_marker=[],this.task_detail_marker.push({position:{lat:parseFloat(this.task_full_details.task_info_start[this.task_detail_panel_pickup_model].lat),lng:parseFloat(this.task_full_details.task_info_start[this.task_detail_panel_pickup_model].lng)},icon:"pickup"}),console.log(this.task_detail_marker)}catch(t){console.log(t),this.task_detail_marker=[]}},task_detail_panel_delivery_model:function(t,e){if(-1!=this.task_detail_panel_pickup_model&&-1!=this.task_detail_panel_delivery_model&&(this.task_detail_panel_pickup_model=-1,this.task_detail_marker=[]),-1==this.task_detail_panel_delivery_model);else try{this.task_detail_marker=[],this.task_detail_marker.push({position:{lat:parseFloat(this.task_full_details.task_info_stop[this.task_detail_panel_delivery_model].lat),lng:parseFloat(this.task_full_details.task_info_stop[this.task_detail_panel_delivery_model].lng)},icon:"delivery"}),console.log(this.task_detail_marker)}catch(t){console.log(t)}},shapes:function(t,e){},task_team_select:function(t,e){null!=t&&(this.geo_circle=t.team_geofence)},master_date_store:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:if(null!=Object(r.a)(t)){e.next=4;break}return e.abrupt("return");case 4:if(console.log(t+"date"),console.log(+n.getMasterTeam+"team"),null==n.getMasterTeam){e.next=15;break}return e.prev=7,e.next=10,n.load_unassigned_task_team_date(n.getMasterTeam._id,t);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.log("EX-master_date_store");case 15:case"end":return e.stop()}}),e,null,[[7,12]])})))()},selected_team:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&""!=t){e.next=2;break}return e.abrupt("return");case 2:return console.log(t._id),e.next=5,n.$axios.get("/api/agent/team/"+t._id);case 5:r=e.sent,console.log(r.data.data),r.data.status&&(n.agent_teams=r.data.data);case 8:case"end":return e.stop()}}),e)})))()},master_team_store:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:if(null!=Object(r.a)(t)){e.next=4;break}return e.abrupt("return");case 4:if(t.team_geofence&&(n.map_center=t.team_geofence.center,n.geo_circle=t.team_geofence),console.log(t),null==n.getMasterDate){e.next=15;break}return e.prev=7,e.next=10,n.load_unassigned_task_team_date(t._id,n.getMasterDate);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.log("EX-master_team_store");case 15:case"end":return e.stop()}}),e,null,[[7,12]])})))()}},computed:d(d({},Object(c.b)({getMasterDate:"getMasterDate",getMasterTeam:"getMasterTeam"})),Object(c.d)({master_date_store:function(t){return t.master_date},master_team_store:function(t){return t.master_team}})),components:{},data:function(){return{assigned_task_list:[],assign_teams_check:[],task_detail_marker:[],task_detail_panel_pickup_model:-1,task_detail_panel_delivery_model:-1,timer:null,task_team_select:"",selected_team:"",task_to_assign:null,task_assign_sheet:!1,task_full_details:null,mapMode:null,agent_locations:[],map_center:{lat:11.683169,lng:75.564198},selected_route_markers:null,geo_circle:null,shapes:[],circleOptions:{fillColor:"#777",fillOpacity:.4,strokeWeight:2,strokeColor:"#999",draggable:!1,editable:!1,clickable:!0},task_detail:!1,task_selected_details:null,task_selected_details_sub:null,left_side:0,right_side:0,selected:[2],all_team:[],agent_teams:[],un_assigned_task:[],vehicle_types:[],map_settings:{show_geofence:!0,show_pick_up:!0,show_delivery:!0,show_active:!0},items:[{action:"15 min",headline:"Brunch this weekend?",subtitle:"I'll be in your neighborhood doing errands this weekend. Do you want to hang out?",title:"Ali Connors",avatar:"https://cdn.vuetifyjs.com/images/lists/1.jpg"}]}}},m=(n(795),n(13)),k=n(40),h=n.n(k),f=n(281),x=n(748),A=(n(10),n(797),n(724));function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var O=A.a.extend({name:"v-bottom-sheet",props:{inset:Boolean,maxWidth:{type:[String,Number],default:"auto"},transition:{type:String,default:"bottom-sheet-transition"}},computed:{classes:function(){return w(w({},A.a.options.computed.classes.call(this)),{},{"v-bottom-sheet":!0,"v-bottom-sheet--inset":this.inset})}}}),Q=n(172),C=n(271),S=n(26),j=(n(18),n(65),n(799),n(415),n(20)),T=n(29);function D(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function V(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var I=n(148).a.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return V(V({},T.a.options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(t){var e=this;this.$nextTick((function(){return e.inputIndeterminate=t}))},inputIndeterminate:function(t){this.$emit("update:indeterminate",t)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(j.a,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",V(V({},this.attrs$),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}}),R=n(282),P=n(736),M=n(743),E=n(275),B=n(737),U=n(738),z=n(739),L=n(744),G=n(138),F=n(214),N=n(278),J=n(170),$=n(280),Y=n(53),W=n(140),Z=n(283),H=n(740),K=n(722),X=n(62),tt=n(741),et=n(753),at=n(758),st=n(756),nt=n(73),it=n(742),ot=n(63),lt=n(147),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-row",{staticStyle:{padding:"0 !important"},attrs:{justify:"center",align:"start","no-gutters":""}},[t.left_side>0?r("v-col",{staticStyle:{"z-index":"25"},attrs:{id:"left_side_bar",cols:t.left_side,"fill-height":""}},[r("h3",{staticClass:"grey--text",staticStyle:{"font-size":"2rem","text-align":"center !important"}},[t._v("Tasks")]),t._v(" "),r("div",{staticStyle:{"overflow-y":"auto !important"}},[r("v-tabs",{attrs:{centered:""}},[r("v-tab",[t._v("Assigned")]),t._v(" "),r("v-tab",[t._v("Unassigned")]),t._v(" "),r("v-tab",[t._v("Successful")]),t._v(" "),r("v-tab-item",{staticStyle:{"max-height":"80vh"}},[r("v-list",{staticStyle:{padding:"3%"},attrs:{"three-line":""}},[r("v-divider"),t._v(" "),r("v-divider"),t._v(" "),r("v-expansion-panels",t._l(t.assigned_task_list,(function(e,i){return r("v-expansion-panel",{key:i},[r("v-expansion-panel-header",{staticClass:"blue--text"},[t._v("\r\n       Task ID "+t._s(e.task_number)+" \r\n      ")]),t._v(" "),r("v-expansion-panel-content",[r("v-card",{staticClass:"mx-auto"},[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[r("div",{staticClass:"overline mb-4"},["pickup_delievry"==e.task_type?r("div",[t._v("\r\n               PICKUP-DELIVERY "+t._s(e.task_status)+"\r\n             ")]):t._e()])]),t._v(" "),r("v-list-item-subtitle",["AS"==e.task_status?r("div",[t._v("\r\n               TASK Assigned : Not Accepted\r\n             ")]):t._e()])],1)],1),t._v(" "),r("v-list-item",[r("v-list-item-content",[r("v-list-item-subtitle",[t._v("Created Date-Time : "+t._s(new Date(e.task_created).toLocaleString()))])],1)],1),t._v(" "),r("v-list-item",{attrs:{"two-line":""}},[r("v-list-item-icon",[r("v-img",{attrs:{"max-height":"150","max-width":"250",src:e.task_vehicle.vehicle_icon}})],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",[t._v("Vehcile Type")]),t._v(" "),r("v-list-item-subtitle",[t._v("\r\n              "+t._s(e.task_vehicle.vehicle_type)+"\r\n            ")]),t._v(" "),r("v-list-item-subtitle",[t._v("\r\n              "+t._s(e.task_vehicle.vehicle_description)+"\r\n            ")])],1)],1),t._v(" "),r("v-card-actions",[r("v-btn",{staticClass:"white--text",attrs:{color:"red"}},[t._v("\r\n            Delete Task\r\n          ")])],1)],1)],1)],1)})),1)],1)],1),t._v(" "),r("v-tab-item",[r("v-expansion-panels",t._l(t.un_assigned_task,(function(e,i){return r("v-expansion-panel",{key:i,on:{click:function(e){return t.unassigned_task_show_marker(i)}}},[r("v-expansion-panel-header",{staticClass:"blue--text"},[t._v("\r\n       Task ID "+t._s(e.task_number)+"\r\n      ")]),t._v(" "),r("v-expansion-panel-content",[r("v-card",{staticClass:"mx-auto"},[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[r("div",{staticClass:"overline mb-4"},["pickup_delievry"==e.task_type?r("div",[t._v("\r\n               PICKUP-DELIVERY "+t._s(e.task_status)+"\r\n             ")]):t._e()])])],1)],1),t._v(" "),r("v-list-item",[r("v-list-item-content",[r("v-list-item-subtitle",[t._v("Created Date-Time : "+t._s(new Date(e.task_created).toLocaleString()))])],1)],1),t._v(" "),r("v-list-item",{attrs:{"two-line":""}},[r("v-list-item-icon",[r("v-img",{attrs:{"max-height":"150","max-width":"250",src:e.task_vehicle.vehicle_icon}})],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",[t._v("VehicleType")]),t._v(" "),r("v-list-item-subtitle",[t._v("\r\n              "+t._s(e.task_vehicle.vehicle_type)+"\r\n            ")]),t._v(" "),r("v-list-item-subtitle",[t._v("\r\n              "+t._s(e.task_vehicle.vehicle_description)+"\r\n            ")])],1)],1),t._v(" "),r("v-card-actions",[r("v-btn",{staticClass:"white--text",attrs:{color:"orange"},on:{click:function(n){return t.show_task_details(e)}}},[t._v("\r\n            Assign\r\n          ")]),t._v(" "),r("v-btn",{staticClass:"white--text",attrs:{color:"red"}},[t._v("\r\n            Delete Task\r\n          ")])],1)],1)],1)],1)})),1)],1)],1)],1)]):t._e(),t._v(" "),r("v-col",{attrs:{cols:12-(t.left_side+t.right_side),color:"grey"}},[r("v-row",{staticStyle:{"margin-top":"4% !important"},attrs:{justify:"end",align:"end",dense:""}},[r("v-col",{attrs:{cols:"1"}},[r("v-btn",{staticStyle:{"z-index":"25"},attrs:{icon:"",text:"",left:""},on:{click:t.toggle_left}},[r("v-icon",{staticStyle:{"font-size":"4rem","background-color":"grey"},attrs:{color:"white"}},[t._v("\r\n                  mdi-chevron-left-box\r\n            ")])],1)],1),t._v(" "),r("v-spacer"),t._v(" "),r("v-col",[r("v-menu",{staticStyle:{"z-index":"25",height:"50%"},attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-btn",t._g(t._b({staticStyle:{"z-index":"25"},attrs:{color:"primary",dark:"",fab:""}},"v-btn",o,!1),n),[r("v-icon",[t._v("mdi-cogs")])],1)]}}])},[t._v(" "),r("v-list",{staticStyle:{height:"50%"}},[r("v-list-item",[r("v-checkbox",{model:{value:t.map_settings.show_pick_up,callback:function(e){t.$set(t.map_settings,"show_pick_up",e)},expression:"map_settings.show_pick_up"}}),t._v(" "),r("v-list-item-title",[t._v("Show Only Pickups")])],1),t._v(" "),r("v-list-item",[r("v-checkbox",{model:{value:t.map_settings.show_delivery,callback:function(e){t.$set(t.map_settings,"show_delivery",e)},expression:"map_settings.show_delivery"}}),t._v(" "),r("v-list-item-title",[t._v("Show Only Devlivery")])],1),t._v(" "),r("v-list-item",[r("v-checkbox",{model:{value:t.map_settings.show_active,callback:function(e){t.$set(t.map_settings,"show_active",e)},expression:"map_settings.show_active"}}),t._v(" "),r("v-list-item-title",[t._v("Show Only active Agents")])],1),t._v(" "),r("v-list-item",[r("v-checkbox",{model:{value:t.map_settings.show_geofence,callback:function(e){t.$set(t.map_settings,"show_geofence",e)},expression:"map_settings.show_geofence"}}),t._v(" "),r("v-list-item-title",[t._v("Show Map Geo Fence")])],1)],1)],1)],1),t._v(" "),r("v-col"),t._v(" "),r("v-spacer"),t._v(" "),r("v-col",{staticClass:"ml-auto",attrs:{cols:"1"}},[r("v-btn",{staticClass:"pl-0",staticStyle:{"margin-left":"85%","padding-right":"3vw","z-index":"25"},attrs:{icon:"",text:"",left:""},on:{click:t.toggle_right}},[r("v-icon",{staticStyle:{"font-size":"4rem","background-color":"grey"},attrs:{color:"white"}},[t._v("  \r\n            mdi-chevron-right-box\r\n          ")])],1)],1)],1),t._v(" "),r("gmap-map",{ref:"map",staticStyle:{width:"100%",height:"90vh",position:"absolute",top:"0px"},attrs:{center:t.map_center,zoom:15,"map-type-id":"roadmap"}},[null!=t.getMasterTeam?r("div",[t.map_settings.show_geofence?r("div",[r("gmap-circle",{ref:"polygon",attrs:{center:t.getMasterTeam.team_geofence.center,radius:t.getMasterTeam.team_geofence.radius,editable:!1}})],1):t._e()]):t._e(),t._v(" "),r("gmap-cluster",[t.agent_locations.length>0?r("div",t._l(t.agent_locations,(function(e,o){return r("gmap-marker",{key:o,attrs:{position:{lat:e.agent_locations.location.coordinates[1],lng:e.agent_locations.location.coordinates[0]},clickable:!0,icon:1==e.agent_locations.online?{url:n(793)}:{url:n(794)}},on:{click:function(n){t.center={lat:e.agent_locations.location.coordinates[1],lng:e.agent_locations.location.coordinates[0]}}}})})),1):t._e(),t._v(" "),t.selected_route_markers?r("div",[t._l(t.selected_route_markers.task_info_start,(function(e,o){return r("gmap-marker",{key:o,attrs:{position:{lat:e.lat,lng:e.lng},clickable:!0,icon:{url:n(767)}},on:{click:function(n){t.center={lat:e.lat,lng:e.lng}}}})})),t._v(" "),t._l(t.selected_route_markers.task_info_stop,(function(e,o){return r("gmap-marker",{key:o,attrs:{position:{lat:e.lat,lng:e.lng},clickable:!0,icon:{url:n(768)}},on:{click:function(n){t.center={lat:e.lat,lng:e.lng}}}})}))],2):t._e()])],1)],1),t._v(" "),t.right_side>0?r("v-col",{staticClass:"fill-height grow",staticStyle:{"z-index":"25",height:"100% !important"},attrs:{id:"right_side_bar",cols:t.right_side}},[r("transition",{attrs:{name:"slide-fade"}},[r("v-list",{staticClass:"fill-height",staticStyle:{"min-height":"90vh","padding-left":"2%"},attrs:{"three-line":""}},[r("h3",{staticClass:"grey--text",staticStyle:{"font-size":"2rem","text-align":"center !important"}},[t._v("Agents")]),t._v(" "),r("v-divider"),t._v(" "),t._l(t.agent_teams,(function(e){return r("v-list-item",{key:e.username},[r("v-list-item-avatar",{attrs:{size:"56"}},[r("v-badge",{attrs:{bordered:"",overlap:"",bottom:"",color:e.online?"green":"grey",dot:""}},[r("v-avatar",{attrs:{color:"indigo",size:"40"}},[e.profile_icon?r("v-img",{attrs:{src:e.profile_icon}}):r("span",{staticClass:"white--text headline"},[t._v(t._s(e.username[0].toUpperCase()+e.username[e.username.length-1].toUpperCase()))])],1)],1)],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(e.username)}}),t._v(" "),r("v-list-item-subtitle",{domProps:{textContent:t._s(e.phone_number)}})],1),t._v(" "),r("v-list-item-icon",[r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("\r\n            mdi-message-outline\r\n          ")])],1)],1)],1)}))],2)],1)],1):t._e(),t._v(" "),null!=t.task_to_assign?r("div",[r("v-bottom-sheet",{attrs:{persistent:""},model:{value:t.task_assign_sheet,callback:function(e){t.task_assign_sheet=e},expression:"task_assign_sheet"}},[r("v-sheet",{staticClass:"text-center",staticStyle:{height:"50vh","overflow-y":"auto"}},[r("v-card",{staticStyle:{height:"100%"}},[r("v-card-title",[t._v("\r\n           Assign task # "+t._s(t.task_to_assign.task_number)+" "),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:t.close_task_assign_sheet}},[r("v-icon",[t._v("mdi-close-octagon")])],1)],1),t._v(" "),r("v-card-actions",[r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:t.assign_task_manually}},[t._v("Assign")])],1),t._v(" "),r("v-container",[r("v-row",[r("v-col",[r("v-select",{attrs:{label:"Select Team",items:t.all_team,"item-text":"team_name"}})],1),t._v(" "),r("v-col")],1)],1)],1)],1)],1)],1):t._e()],1),t._v(" "),r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.task_detail,callback:function(e){t.task_detail=e},expression:"task_detail"}},[r("v-card",[t.task_detail?r("div",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.task_detail=!1,t.task_selected_details=null}}},[r("v-icon",[t._v("mdi-close")])],1),t._v(" "),r("v-toolbar-title",[t._v("Task Details :# "+t._s(t.task_selected_details.task_number)+" ")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-toolbar-items")],1),t._v(" "),r("v-card-title",["pickup_delievry"==t.task_selected_details.task_type?r("span",{staticClass:"grey--text"},[t._v("Task Type : Pickup and Delievry ")]):t._e(),r("v-spacer"),t._v(" "),"appointment"==t.task_selected_details.task_type?r("span",{staticClass:"grey--text"},[t._v("Task Type : Appointment ")]):t._e(),r("v-spacer"),t._v(" "),"workforce"==t.task_selected_details.task_type?r("span",{staticClass:"grey--text"},[t._v("Task Type : Workforce ")]):t._e(),r("v-spacer")],1),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-row",["pickup_delievry"==t.task_selected_details.task_type?r("v-col",{attrs:{cols:"6"}},[r("v-card-title",[r("h5",{staticClass:"grey--text"},[t._v("Pickup")])]),t._v(" "),r("v-expansion-panels",{model:{value:t.task_detail_panel_pickup_model,callback:function(e){t.task_detail_panel_pickup_model=e},expression:"task_detail_panel_pickup_model"}},t._l(t.task_full_details.task_info_start,(function(e,i){return r("v-expansion-panel",{key:i},[r("v-expansion-panel-header",[t._v("\r\n                            "+t._s(e.name)+"\r\n                          ")]),t._v(" "),r("v-expansion-panel-content",[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Name",value:e.name,readonly:""}})],1),t._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Order #",value:e.order_id,readonly:""}})],1)],1),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Phone",value:e.phone,readonly:""}})],1),t._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Email",value:e.email,readonly:""}})],1)],1),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Date & Time",value:new Date(e.datetime).toISOString(),readonly:""}})],1),t._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-textarea",{attrs:{label:"Address",value:e.email,readonly:"",rows:"1"}})],1)],1)],1)],1)})),1)],1):t._e(),t._v(" "),"pickup_delievry"==t.task_selected_details.task_type?r("v-col",{attrs:{cols:"6"}},[r("v-card-title",[r("h5",{staticClass:"grey--text"},[t._v("Delivery")])]),t._v(" "),r("v-expansion-panels",{model:{value:t.task_detail_panel_delivery_model,callback:function(e){t.task_detail_panel_delivery_model=e},expression:"task_detail_panel_delivery_model"}},t._l(t.task_full_details.task_info_stop,(function(e,i){return r("v-expansion-panel",{key:i},[r("v-expansion-panel-header",[t._v("\r\n                            "+t._s(e.name)+"\r\n                          ")]),t._v(" "),r("v-expansion-panel-content",[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Name",value:e.name,readonly:""}})],1),t._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Order #",value:e.order_id,readonly:""}})],1)],1),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Phone",value:e.phone,readonly:""}})],1),t._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Email",value:e.email,readonly:""}})],1)],1),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Date & Time",value:new Date(e.datetime).toISOString(),readonly:""}})],1),t._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-textarea",{attrs:{label:"Address",value:e.email,readonly:"",rows:"1"}})],1)],1)],1)],1)})),1)],1):t._e()],1),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-card",{staticStyle:{padding:"2%"}},[r("v-card-actions",[r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:t.assign_task_manually}},[t._v("Assign")])],1),t._v(" "),r("v-select",{attrs:{dense:"",items:t.agent_teams,"menu-props":{maxHeight:"400"},label:"Select",multiple:"",clearable:"","return-object":"",chips:"",hint:"Select agents","persistent-hint":""},scopedSlots:t._u([{key:"item",fn:function(data){return[r("v-avatar",{attrs:{color:"indigo",size:"56",left:""}},[data.item.profile_icon?r("v-img",{attrs:{src:data.item.profile_icon}}):r("span",{staticClass:"white--text headline"},[t._v(t._s(data.item.username[0].toUpperCase()+data.item.username[data.item.username.length-1].toUpperCase()))])],1),t._v(" "),r("strong",[t._v(t._s(data.item.username))]),t._v(" \r\n        ")]}},{key:"selection",fn:function(data){return[r("v-chip",{attrs:{"input-value":data.selected,close:"",large:""},on:{"click:close":function(e){return t.remove_selected_assign(data.item)}}},[r("v-avatar",{attrs:{color:"indigo",size:"56",left:""}},[data.item.profile_icon?r("v-img",{attrs:{src:data.item.profile_icon}}):r("span",{staticClass:"white--text headline"},[t._v(t._s(data.item.username[0].toUpperCase()+data.item.username[data.item.username.length-1].toUpperCase()))])],1),t._v(" "),r("strong",[t._v(t._s(data.item.username))]),t._v(" \r\n        ")],1)]}}],null,!1,1021984501),model:{value:t.assign_teams_check,callback:function(e){t.assign_teams_check=e},expression:"assign_teams_check"}})],1)],1)],1)],1),t._v(" "),r("v-col",{attrs:{cols:"4"}},[r("gmap-map",{ref:"task_map",staticStyle:{width:"100%",height:"70vh"},attrs:{center:t.map_center,zoom:15,"map-type-id":"roadmap"}},[null!=t.getMasterTeam?r("div",[t.map_settings.show_geofence?r("div",[r("gmap-circle",{ref:"polygon",attrs:{center:t.getMasterTeam.team_geofence.center,radius:t.getMasterTeam.team_geofence.radius,editable:!1}})],1):t._e()]):t._e(),t._v(" "),"pickup_delievry"==t.task_selected_details.task_type?r("div",[t.task_detail_marker.length>0?r("div",t._l(t.task_detail_marker,(function(e){return r("gmap-marker",{key:e,attrs:{position:e.position,icon:"pickup"==e.icon?{url:n(767)}:{url:n(768)},clickable:!0,draggable:!1},on:{click:function(n){t.center=e.position}}})})),1):t._e()]):t._e()])],1)],1),t._v(" "),r("v-row")],1):t._e()])],1)],1)}),[],!1,null,"1e801c89",null);e.default=component.exports;h()(component,{VAvatar:f.a,VBadge:x.a,VBottomSheet:O,VBtn:Q.a,VCard:C.a,VCardActions:S.a,VCardTitle:S.c,VCheckbox:I,VChip:R.a,VCol:P.a,VContainer:M.a,VDialog:A.a,VDivider:E.a,VExpansionPanel:B.a,VExpansionPanelContent:U.a,VExpansionPanelHeader:z.a,VExpansionPanels:L.a,VIcon:G.a,VImg:F.a,VList:N.a,VListItem:J.a,VListItemAvatar:$.a,VListItemContent:Y.a,VListItemIcon:W.a,VListItemSubtitle:Y.b,VListItemTitle:Y.c,VMenu:Z.a,VRow:H.a,VSelect:K.a,VSheet:X.a,VSpacer:tt.a,VTab:et.a,VTabItem:at.a,VTabs:st.a,VTextField:nt.a,VTextarea:it.a,VToolbar:ot.a,VToolbarItems:lt.a,VToolbarTitle:lt.b})}}]);