(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{767:function(e,t,n){e.exports=n.p+"img/pick_up.c58be2b.png"},768:function(e,t,n){e.exports=n.p+"img/delivery.4fba187.png"},774:function(e,t,n){var content=n(788);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(6).default)("7f1608d0",content,!0,{sourceMap:!1})},787:function(e,t,n){"use strict";n(774)},788:function(e,t,n){(t=n(5)(!1)).push([e.i,".v-data-table>.v-data-table__wrapper tbody tr.v-data-table__expanded__content{box-shadow:inset 0 0 0 0 rgba(50,50,50,.75),inset 0 0 0 0 rgba(50,50,50,.75)!important}",""]),e.exports=t},811:function(e,t,n){"use strict";n.r(t);n(91);var r=n(17),o={data:function(){return{search:"",dialog:!1,dialogDelete:!1,selected_item:null,selected_item_index:null,details_pick:!1,headers:[{text:"",value:"data-table-expand"},{text:"TASK ID",align:"start",sortable:!1,value:"task_number"},{text:"Task Type",align:"start",sortable:!1,value:"task_type"},{text:"Status",align:"start",sortable:!1,value:"task_status"},{text:"Created Date",align:"start",sortable:!1,value:"task_created"}],TableData:[],totalCount:0,loading:!0,options:{},teams:[],team_selected:"",vehicle_types:[],vehicle_selected:""}},computed:{},methods:{open_task_pickup_details:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n.dialog=!0,n.details_pick=!0,n.selected_item=e,n.selected_item_index=t,console.log(n.selected_item.task_info_start[n.selected_item_index]);case 5:case"end":return r.stop()}}),r)})))()},open_task_delivery_details:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n.dialog=!0,n.details_pick=!1,n.selected_item=e,n.selected_item_index=t;case 4:case"end":return r.stop()}}),r)})))()},load_data:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$axios.get("/api/team/all");case 4:return n=t.sent,e.teams=n.data,t.next=8,e.$axios.get("/api/vehicle/all");case 8:return r=t.sent,e.vehicle_types=r.data,t.next=12,e.$axios.get("/api/task/datatable");case 12:if(o=(o=t.sent).data,console.log(o.data),0!=o.status){t.next=17;break}return t.abrupt("return");case 17:e.TableData=o.data.docs,e.totalCount=o.data.totalDocs,e.loading=!1,t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),console.log("E::A");case 25:case"end":return t.stop()}}),t,null,[[0,22]])})))()},pagination:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e);case 1:case"end":return t.stop()}}),t)})))()},update_data:function(e){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},update_options:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={items_perpage:e.itemsPerPage,page:e.page},""!=t.team_selected&&(r.team=t.team_selected),""!=t.vehicle_selected&&(r.vehicle=t.vehicle_selected),n.prev=3,t.loading=!0,n.next=7,t.$axios.get("/api/task/datatable",{params:r});case 7:if(0!=(o=(o=n.sent).data).status){n.next=11;break}return n.abrupt("return");case 11:t.TableData=o.data.docs,t.totalCount=o.data.totalDocs,t.loading=!1,n.next=20;break;case 16:n.prev=16,n.t0=n.catch(3),console.log("E::A"),t.loading=!1;case 20:case"end":return n.stop()}}),n,null,[[3,16]])})))()}},watch:{team_selected:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t!=e){r.next=2;break}return r.abrupt("return");case 2:return o={items_perpage:n.options.itemsPerPage,page:n.options.page,team:e},""!=n.vehicle_selected&&(o.vehicle=n.vehicle_selected),r.prev=4,n.loading=!0,r.next=8,n.$axios.get("/api/task/datatable",{params:o});case 8:if(0!=(l=(l=r.sent).data).status){r.next=12;break}return r.abrupt("return");case 12:n.TableData=l.data.docs,n.totalCount=l.data.totalDocs,n.loading=!1,r.next=21;break;case 17:r.prev=17,r.t0=r.catch(4),console.log("E::A"),n.loading=!1;case 21:case"end":return r.stop()}}),r,null,[[4,17]])})))()},vehicle_selected:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t!=e){r.next=2;break}return r.abrupt("return");case 2:return o={items_perpage:n.options.itemsPerPage,page:n.options.page,vehicle:e},""!=n.team_selected&&(o.team=n.team_selected),r.prev=4,n.loading=!0,r.next=8,n.$axios.get("/api/task/datatable",{params:o});case 8:if(0!=(l=(l=r.sent).data).status){r.next=12;break}return r.abrupt("return");case 12:n.TableData=l.data.docs,n.totalCount=l.data.totalDocs,n.loading=!1,r.next=21;break;case 17:r.prev=17,r.t0=r.catch(4),console.log("E::A"),n.loading=!1;case 21:case"end":return r.stop()}}),r,null,[[4,17]])})))()},search:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={items_perpage:t.options.itemsPerPage,page:t.options.page,search:e},""!=t.team_selected&&(r.team=t.team_selected),""!=t.vehicle_selected&&(r.vehicle=t.vehicle_selected),n.prev=3,t.loading=!0,n.next=7,t.$axios.get("/api/task/datatable",{params:r});case 7:if(0!=(o=(o=n.sent).data).status){n.next=11;break}return n.abrupt("return");case 11:t.TableData=o.data.docs,t.totalCount=o.data.totalDocs,t.loading=!1,n.next=20;break;case 16:n.prev=16,n.t0=n.catch(3),console.log("E::A"),t.loading=!1;case 20:case"end":return n.stop()}}),n,null,[[3,16]])})))()},options:{handler:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),r={items_perpage:e.itemsPerPage,page:e.page},n.prev=2,t.loading=!0,n.next=6,t.$axios.get("/api/task/datatable",{params:r});case 6:if(0!=(o=(o=n.sent).data).status){n.next=10;break}return n.abrupt("return");case 10:t.TableData=o.data.docs,t.totalCount=o.data.totalDocs,t.loading=!1,n.next=19;break;case 15:n.prev=15,n.t0=n.catch(2),console.log("E::A"),t.loading=!1;case 19:case"end":return n.stop()}}),n,null,[[2,15]])})))()},deep:!0}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$gmapApiPromiseLazy();case 2:e.load_data();case 3:case"end":return t.stop()}}),t)})))()}},l=(n(787),n(13)),c=n(40),d=n.n(c),_=n(172),v=n(271),m=n(26),f=n(736),h=n(743),x=n(808),k=n(724),w=n(275),y=n(138),D=n(740),C=n(722),T=n(725),R=n(741),S=n(73),V=n(63),P=n(147),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",[r("v-row",[r("v-col",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.TableData,options:e.options,"server-items-length":e.totalCount,loading:e.loading,search:e.search,pagination:e.pagination,"show-expand":"","item-key":"task_number","single-expand":!0,"disable-sort":""},on:{"update:options":function(t){e.options=t},"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:""}},[r("v-toolbar-title",[e._v("TASK")]),e._v(" "),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-datetime-picker",{staticClass:"white--text",attrs:{dark:"",label:"Task Date"},model:{value:e.datetime,callback:function(t){e.datetime=t},expression:"datetime"}},[r("template",{slot:"dateIcon"},[r("v-icon",[e._v("mdi-calendar-range")])],1),e._v(" "),r("template",{slot:"timeIcon"},[r("v-icon",[e._v("mdi-clock-outline")])],1)],2),e._v(" "),r("v-spacer"),e._v(" "),r("v-select",{attrs:{items:e.teams,label:"Select Teams","item-text":"team_name",dense:""},model:{value:e.team_selected,callback:function(t){e.team_selected=t},expression:"team_selected"}}),e._v(" "),""!=e.team_selected?r("v-btn",{attrs:{icon:""},on:{click:function(t){e.team_selected=""}}},[r("v-icon",[e._v("mdi-close-circle")])],1):e._e(),e._v(" "),r("v-spacer"),e._v(" "),r("v-select",{attrs:{items:e.vehicle_types,"item-text":"vehicle_type",label:"Select Vehicle Type",dense:""},model:{value:e.vehicle_selected,callback:function(t){e.vehicle_selected=t},expression:"vehicle_selected"}}),e._v(" "),""!=e.vehicle_selected?r("v-btn",{attrs:{icon:""},on:{click:function(t){e.vehicle_selected=""}}},[r("v-icon",[e._v("mdi-close-circle")])],1):e._e(),e._v(" "),r("v-spacer"),e._v(" "),r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),r("v-spacer"),r("v-btn",{attrs:{icon:"",color:"red"},on:{click:e.load_data}},[r("v-icon",[e._v("mdi-refresh-circle")])],1)],1)]},proxy:!0},{key:"item.task_created",fn:function(t){var n=t.item;return[r("td",[e._v("\n                        "+e._s(new Date(n.task_created).toLocaleDateString("en-US"))+"\n                      ")])]}},{key:"expanded-item",fn:function(t){var n=t.headers,o=t.item;return[r("td",{attrs:{colspan:n.length}},[r("v-card",[r("v-container",[r("v-row",[r("v-col",[r("v-card-text",[e._v("PickUp details")]),e._v(" "),r("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",[e._v("PickUp")]),e._v(" "),r("th",[e._v("Phone")]),e._v(" "),r("th",[e._v("Email")]),e._v(" "),r("th",[e._v("Order ID")]),e._v(" "),r("th",[e._v("Date and Time")]),e._v(" "),r("th",[e._v("Address")]),e._v(" "),r("th",[e._v("Details")])])]),e._v(" "),r("tbody",e._l(o.task_info_start,(function(t,i){return r("tr",{key:i},[r("td",[e._v(e._s(t.name))]),e._v(" "),r("td",[e._v(e._s(t.phone))]),e._v(" "),r("td",[e._v(e._s(t.email))]),e._v(" "),r("td",[e._v(e._s(t.order_id))]),e._v(" "),r("td",[e._v(e._s(new Date(t.datetime).toLocaleDateString("en-US")))]),e._v(" "),r("td",[r("v-btn",{staticClass:"white--text",attrs:{"x-small":"",color:"blue"},on:{click:function(t){return e.open_task_pickup_details(o,i)}}},[e._v("Address")])],1),e._v(" "),r("td",[e._v(e._s(t.details))])])})),0)]},proxy:!0}],null,!0)})],1),e._v(" "),r("v-col",[r("v-card-text",[e._v("Delivery details")]),e._v(" "),r("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",[e._v("Delivery")]),e._v(" "),r("th",[e._v("Phone")]),e._v(" "),r("th",[e._v("Email")]),e._v(" "),r("th",[e._v("Order ID")]),e._v(" "),r("th",[e._v("Date and Time")]),e._v(" "),r("th",[e._v("Address")]),e._v(" "),r("th",[e._v("Details")])])]),e._v(" "),r("tbody",e._l(o.task_info_stop,(function(t,i){return r("tr",{key:i},[r("td",[e._v(e._s(t.name))]),e._v(" "),r("td",[e._v(e._s(t.phone))]),e._v(" "),r("td",[e._v(e._s(t.email))]),e._v(" "),r("td",[e._v(e._s(t.order_id))]),e._v(" "),r("td",[e._v(e._s(new Date(t.datetime).toLocaleDateString("en-US")))]),e._v(" "),r("td",[r("v-btn",{staticClass:"white--text",attrs:{"x-small":"",color:"blue"},on:{click:function(t){return e.open_task_delivery_details(o,i)}}},[e._v("Address")])],1),e._v(" "),r("td",[e._v(e._s(t.details))])])})),0)]},proxy:!0}],null,!0)})],1)],1)],1)],1)],1)]}},{key:"no-data",fn:function(){return[r("v-btn",{attrs:{color:"primary"},on:{click:e.update_options}},[e._v("\n                    Reset\n                  ")])]},proxy:!0}])})],1)],1),e._v(" "),r("v-row")],1),e._v(" "),r("v-dialog",{staticStyle:{height:"75vh"},attrs:{persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n     TASK Details\n    ")]),e._v(" "),r("v-card-text"),e._v(" "),r("v-spacer"),e._v(" "),r("v-container",[r("v-row",[r("v-col",[r("h4",[e._v("Pick Up Details")]),e._v(" "),r("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",[e._v("PickUp")]),e._v(" "),r("th",[e._v("Phone")]),e._v(" "),r("th",[e._v("Email")]),e._v(" "),r("th",[e._v("Order ID")]),e._v(" "),r("th",[e._v("Date and Time")]),e._v(" "),r("th",[e._v("Address")]),e._v(" "),r("th",[e._v("Details")])])]),e._v(" "),r("tbody")]},proxy:!0}])})],1),e._v(" "),r("v-col",[e.details_pick?r("div",[null!=e.selected_item_index?r("div",[r("gmap-map",{ref:"map",staticStyle:{width:"100%",height:"50vh",top:"0px"},attrs:{center:{lat:Number(e.selected_item.task_info_start[e.selected_item_index].lat),lng:Number(e.selected_item.task_info_start[e.selected_item_index].lng)},zoom:15,"map-type-control":!1,"street-view-control":!1,"full-screen-control":!1,"map-type-id":"roadmap",options:{zoomControl:!0,mapTypeControl:!1,scaleControl:!0,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,disableDefaultUi:!1}}},[r("gmap-marker",{attrs:{position:{lat:Number(e.selected_item.task_info_start[e.selected_item_index].lat),lng:Number(e.selected_item.task_info_start[e.selected_item_index].lng)},clickable:!0,icon:{url:n(767)}}})],1)],1):e._e()]):r("div",[null!=e.selected_item_index?r("div",[r("gmap-map",{ref:"map",staticStyle:{width:"100%",height:"50vh",top:"0px"},attrs:{center:{lat:Number(e.selected_item.task_info_stop[e.selected_item_index].lat),lng:Number(e.selected_item.task_info_stop[e.selected_item_index].lng)},zoom:15,"map-type-control":!1,"street-view-control":!1,"full-screen-control":!1,"map-type-id":"roadmap",options:{zoomControl:!0,mapTypeControl:!1,scaleControl:!0,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,disableDefaultUi:!1}}},[r("gmap-marker",{attrs:{position:{lat:Number(e.selected_item.task_info_stop[e.selected_item_index].lat),lng:Number(e.selected_item.task_info_stop[e.selected_item_index].lng)},clickable:!0,icon:{url:n(768)}}})],1)],1):e._e()])])],1)],1),e._v(" "),r("v-card-actions",[r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog=!1,e.selected_item_index=null}}},[e._v("\n        OK\n      ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VBtn:_.a,VCard:v.a,VCardActions:m.a,VCardText:m.b,VCardTitle:m.c,VCol:f.a,VContainer:h.a,VDataTable:x.a,VDialog:k.a,VDivider:w.a,VIcon:y.a,VRow:D.a,VSelect:C.a,VSimpleTable:T.a,VSpacer:R.a,VTextField:S.a,VToolbar:V.a,VToolbarTitle:P.b})}}]);